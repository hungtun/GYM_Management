{% extends "layout/base.html" %}

{% block title %}Đăng ký - GYM Beta{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/auth.css') }}">
{% endblock %}

{% block content %}
<div class="auth-page">
  <div class="auth-container">
    <div class="container py-4">
      <div class="row justify-content-center">
        <div class="col-lg-10 col-xl-8">
          <div class="auth-card">
            <div class="auth-form-wrapper">
              {% if err_msg %}
              <div class="alert alert-danger alert-dismissible fade show" role="alert">
                <strong>Lỗi:</strong> {{ err_msg }}
                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
              </div>
              {% endif %}

              <div class="auth-header text-center mb-4">
                <h3 class="auth-title">Đăng Ký Tài Khoản</h3>
                <p class="auth-subtitle">Tạo tài khoản để bắt đầu hành trình rèn luyện sức khỏe</p>
              </div>

              <form id="register_form" method="post" action="{{ url_for('auth.user_register') }}"
                enctype="multipart/form-data" class="auth-form">
                <div class="row">
                  <div class="col-md-6 mb-3">
                    <div class="form-floating">
                      <input type="text" class="form-control" id="first_name" name="first_name" placeholder="Họ">
                      <label for="first_name">Họ</label>
                    </div>
                  </div>
                  <div class="col-md-6 mb-3">
                    <div class="form-floating">
                      <input type="text" class="form-control" id="last_name" name="last_name" placeholder="Tên">
                      <label for="last_name">Tên</label>
                    </div>
                  </div>
                </div>

                <div class="row">
                  <div class="col-md-6 mb-3">
                    <div class="form-floating">
                      <input type="text" class="form-control" id="user_name" name="user_name"
                        placeholder="Tên đăng nhập" required>
                      <label for="user_name">Tên đăng nhập</label>
                    </div>
                  </div>
                  <div class="col-md-6 mb-3">
                    <div class="form-floating">
                      <input type="email" class="form-control" id="email" name="email" placeholder="Email" required>
                      <label for="email">Email</label>
                    </div>
                  </div>
                </div>

                <div class="row">
                  <div class="col-md-6 mb-3">
                    <div class="form-floating">
                      <input type="password" class="form-control" id="password" name="password" placeholder="Mật khẩu"
                        required>
                      <label for="password">Mật khẩu</label>
                    </div>
                  </div>
                  <div class="col-md-6 mb-3">
                    <div class="form-floating">
                      <input type="password" class="form-control" id="confirm" name="confirm"
                        placeholder="Xác nhận mật khẩu" required>
                      <label for="confirm">Xác nhận mật khẩu</label>
                    </div>
                  </div>
                </div>

                <div class="row">
                  <div class="col-md-6 mb-3">
                    <div class="form-floating">
                      <input type="date" class="form-control" id="birth_day" name="birth_day" placeholder="Ngày sinh">
                      <label for="birth_day">Ngày sinh</label>
                    </div>
                  </div>
                  <div class="col-md-6 mb-3">
                    <div class="form-floating">
                      <input type="tel" class="form-control" id="phone_number" name="phone_number"
                        placeholder="Số điện thoại">
                      <label for="phone_number">Số điện thoại</label>
                    </div>
                  </div>
                </div>

                <div class="mb-4">
                  <label class="form-label fw-semibold mb-3">Giới tính</label>
                  <div class="gender-options">
                    <div class="form-check form-check-inline">
                      <input class="form-check-input" type="radio" name="gender" id="maleGender" value="Nam">
                      <label class="form-check-label" for="maleGender">
                        <span class="gender-icon">♂</span>
                        <span>Nam</span>
                      </label>
                    </div>
                    <div class="form-check form-check-inline">
                      <input class="form-check-input" type="radio" name="gender" id="femaleGender" value="Nữ">
                      <label class="form-check-label" for="femaleGender">
                        <span class="gender-icon">♀</span>
                        <span>Nữ</span>
                      </label>
                    </div>
                    <div class="form-check form-check-inline">
                      <input class="form-check-input" type="radio" name="gender" id="otherGender" value="Khác">
                      <label class="form-check-label" for="otherGender">
                        <span class="gender-icon">⚧</span>
                        <span>Khác</span>
                      </label>
                    </div>
                  </div>
                </div>

                <div class="d-flex gap-3 justify-content-end mt-4">
                  <button type="button" class="btn-reset" onclick="resetForm()">Đặt lại</button>
                  <button type="submit" class="auth-submit-btn">Đăng ký</button>
                </div>

                <div class="text-center mt-4">
                  <p class="auth-switch-text">
                    Đã có tài khoản?
                    <a href="{{ url_for('auth.user_login') }}" class="auth-switch-link">Đăng nhập ngay</a>
                  </p>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
  function resetForm() {
    document.getElementById("register_form").reset();
  }
</script>
{% endblock %}